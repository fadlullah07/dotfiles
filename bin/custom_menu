#!/bin/bash

# --- Define Your Scripts Here ---
# FORMAT: "Display Name" = "command_to_run"
TERMINAL="${TERMINAL:-alacritty}"
declare -A options
options["Install web app 󰖟"]="$TERMINAL --class web-app-install -e $HOME/.local/bin/web-app-install"
options["Remove web app 󰖟"]="$TERMINAL --class web-app-remove -e $HOME/.local/bin/web-app-remove"

menu_options=""
for key in "${!options[@]}"; do
  menu_options+="$key\n"
done

# Show the Wofi menu and capture the user's choice
# The --dmenu flag tells Wofi to work with stdin/stdout
choice=$(echo -e "$menu_options" | walker --dmenu --hideqa --width 295 --minheight 1 --maxheight 600 --nohints)

# Execute the command associated with the chosen option
if [ -n "$choice" ]; then
  command_to_run="${options[$choice]}"
  if [ -n "$command_to_run" ]; then
    # Run the command in the background
    ($command_to_run) &
  else
    walker -e "Invalid option selected"
  fi
fi
